# lib/graphql/operations.graphql

fragment ChatMessageFields on Message {
  id
  roomId
  user
  content
  createdAt
}

query GetMessages($roomId: String!) {
  messages(roomId: $roomId) {
    ...ChatMessageFields
  }
}

mutation PostMessage($roomId: String!, $user: String!, $content: String!) {
  postMessage(roomId: $roomId, user: $user, content: $content) {
    ...ChatMessageFields
  }
}

subscription OnNewMessage($roomId: String!) {
  messageAdded(roomId: $roomId) {
    ...ChatMessageFields
  }
}